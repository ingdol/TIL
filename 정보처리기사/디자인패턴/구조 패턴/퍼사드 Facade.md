# 퍼사드 Facade

[퍼사드 패턴](https://refactoring.guru/ko/design-patterns/facade)

## 의도

- 퍼사드 패턴은 라이브러리에 대한, 프레임워크에 대한 또는 다른 클래스들의 복잡한 집합에 대한 단순화된 인터페이스를 제공하는 구조적 디자인 패턴

![Untitled](%E1%84%91%E1%85%A5%E1%84%89%E1%85%A1%E1%84%83%E1%85%B3%20Facade%20ad3e6399c1bb49f28905424a2af2d736/Untitled.png)

## 문제

- 정교한 라이브러리나 프레임워크에 속하는 광범위한 객체들의 집합으로 우리의 코드를 작동하게 만들어야 한다고 가정
  - 일반적으로 이러한 객체들을 모두 초기화하고, 종속성 관계들을 추적하고, 올바른 순서로 메서드들을 실행하는 등의 작업을 수행해야 함
- 그 결과 클래스들의 비즈니스 로직이 타사 클래스들의 구현 세부 사항들과 밀접하게 결합하여 코드를 이해하고 유지 관리하기 어려워짐

## 해결책

- 퍼사드는 움직이는 부분이 많이 포함된 복잡한 하위 시스템에 대한 간단히 인터페이스를 제공하는 클래스
  - 하위 시스템과 직접 작업하는 것과 비교하면 퍼사드는 제한된 기능성을 제공함
  - 하지만 퍼사드에는 클라이언트들이 정말로 중요하게 생각하는 기능들만 포함됨
- 퍼사드는 앱을 수십 가지의 기능이 있는 정교한 라이브러리와 통합해야 하지만 그 기능의 극히 일부만 필요로 할 때 편리함
- 예를 들어, 어떤 앱에 소셜 미디어를 올릴 때 전문적인 비디오 변환 라이브러리를 사용한다 하면
  - 이 앱이 이 라이브러리로부터 필요로 하는 것은 `encode(filename, format)` 단일 메서드가 있는 클래스 뿐
  - 이러한 클래스를 만든 후 비디오 변환 라이브러리와 연결하면 첫 번째 퍼사드를 소유하게 됨

## 실제상황 적용

![전화로 주문하기](%E1%84%91%E1%85%A5%E1%84%89%E1%85%A1%E1%84%83%E1%85%B3%20Facade%20ad3e6399c1bb49f28905424a2af2d736/Untitled%201.png)

전화로 주문하기

- 전화로 주문하기 위해 매장에 전화를 걸었을 때 전화를 받는 교환원이 상점의 모든 서비스와 부서에 대한 퍼ㅏ드
- 이때 교환원은 주문 시스템, 지불 게이트웨이 및 다양한 배송 서비스에 대한 간단한 음성 인터페이스를 제공

## 구조

![Untitled](%E1%84%91%E1%85%A5%E1%84%89%E1%85%A1%E1%84%83%E1%85%B3%20Facade%20ad3e6399c1bb49f28905424a2af2d736/Untitled%202.png)

1. 퍼사드
   - 퍼사드 패턴을 사용하면 하위 시스템 기능들의 특정 부분에 편리하게 접근 가능
   - 퍼사드는 클라이언트의 요청을 어디로 보내야 하는지와 움직이는 모든 부품을 어떻게 작동해야 하는지 알고 있음
2. 추가적인 퍼사드
   - 클래스를 생성하여 하나의 퍼사드를 관련 없는 기능들로 오염시켜 복잡한 구조로 만드는 것을 방지할 수 있음
   - 추가 퍼사드들은 클라이언트들과 다른 퍼사드들 모두에 사용할 수 있음
3. 복잡한 하위 시스템
   - 수십 개의 다양한 객체들로 구성
   - 이 모든 객체가 의미 있는 작업을 수행하도록 하려면, 하위 시스템의 세부적인 구현 정보를 깊이 있게 살펴야 함
   - 예를 들어 올바른 순서로 객체들을 초기화하고 그들에게 적절한 형식의 데이터를 제공하는 등의 작업을 수행할 경우
     - 하위 시스템 클래스들은 퍼사드의 존재를 인식하지 못함
     - 이들은 시스템 내에서 작동하며, 매개체 없이 직접 서로와 작업함
4. 클라이언트
   - 하위 시스템 객체들을 직접 호출하는 대신 퍼사드를 사용함
